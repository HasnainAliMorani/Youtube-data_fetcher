<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>YouTube Data Fetcher</title>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            margin: 20px;
            background-color: #0e0e0e;
            color: #eaeaea;
            text-align: center;
        }
        h1, h2 {
            color: #00ffcc;
            text-shadow: 0 0 10px #00ffcc;
        }
        input, button {
            padding: 10px;
            margin: 5px 0;
            font-size: 16px;
            border: 1px solid #00ffcc;
            border-radius: 5px;
            background-color: #1a1a1a;
            color: #eaeaea;
        }
        input:focus, button:hover {
            border-color: #ffcc00;
            background-color: #1f1f1f;
            outline: none;
        }
        #videoDetails, #channelDetails, #similar-channels {
            margin-top: 20px;
            padding: 10px;
            border: 1px solid #00ffcc;
            border-radius: 5px;
            background-color: #1a1a1a;
            box-shadow: 0 0 15px rgba(0, 255, 204, 0.5);
        }
        p {
            margin: 5px 0;
        }
        .tag {
            display: inline-block;
            background-color: #00ffcc;
            border-radius: 3px;
            padding: 5px 10px;
            margin: 5px;
            font-size: 14px;
        }
        img {
            max-width: 100%;
            height: auto;
            border-radius: 5px;
            margin-top: 10px;
            box-shadow: 0 0 10px rgba(0, 255, 204, 0.5);
        }
        .download-btn {
            background-color: #ffcc00;
            color: #000;
            border: none;
            cursor: pointer;
            transition: background-color 0.3s;
            margin-top: 10px;
        }
        .download-btn:hover {
            background-color: #e6b800;
        }
        .tag, .download-btn {
            display: inline-block;
        }
        #similar-channels {
            text-align: left;
            color: #ffcc00;
        }
    </style>
</head>
<body>
    <h1>YouTube Data Fetcher</h1>

    <!-- Video Details Section -->
    <input type="text" id="videoId" placeholder="Enter YouTube Video ID">
    <button onclick="fetchVideoDetails()">Fetch Video Details</button>

    <!-- Channel Details Section -->
    <br><br>
    <input type="text" id="channelName" placeholder="Enter Channel Name">
    <button onclick="fetchChannelDetails()">Fetch Channel Details</button>

    <!-- Display Video Details -->
    <div id="videoDetails"></div>
    
    <!-- Display Channel Details -->
    <div id="channelDetails"></div>

    <!-- Display Similar Channels -->
    <div id="similar-channels"></div>

    <script>
        // Fetch Video Details from YouTube API
        async function fetchVideoDetails() {
            const videoId = document.getElementById('videoId').value;
            const apiKey = 'AIzaSyCW4fZwrNkPVEk9MKU1IhLykg9oXQnk920';
            const apiUrl = `https://www.googleapis.com/youtube/v3/videos?part=snippet,statistics&id=${videoId}&key=${apiKey}`;

            try {
                const response = await fetch(apiUrl);
                const data = await response.json();

                if (data.items.length > 0) {
                    const videoDetails = data.items[0];
                    const title = videoDetails.snippet.title;
                    const description = videoDetails.snippet.description;
                    const views = videoDetails.statistics.viewCount;
                    const likes = videoDetails.statistics.likeCount;
                    const country = videoDetails.snippet.country || 'N/A';
                    const uploadDate = new Date(videoDetails.snippet.publishedAt).toLocaleString('en-PK', { timeZone: 'Asia/Karachi' });
                    const tags = videoDetails.snippet.tags || [];
                    const thumbnailUrl = videoDetails.snippet.thumbnails.high.url;

                    document.getElementById('videoDetails').innerHTML = `
                        <p><strong>Title:</strong> ${title}</p>
                        <p><strong>Description:</strong> ${description}</p>
                        <p><strong>Upload Date (PKT):</strong> ${uploadDate}</p>
                        <p><strong>Views:</strong> ${views}</p>
                        <p><strong>Likes:</strong> ${likes}</p>
                        <p><strong>Country:</strong> ${country}</p>
                        <p><strong>Tags:</strong> ${tags.length > 0 ? tags.map(tag => `<span class="tag">${tag}</span>`).join('') : 'No tags available'}</p>
                        <img src="${thumbnailUrl}" alt="Video Thumbnail">
                        <a href="${thumbnailUrl}" download><button class="download-btn">Download Thumbnail (HD)</button></a>
                    `;
                } else {
                    document.getElementById('videoDetails').innerHTML = '<p>No video details found.</p>';
                }
            } catch (error) {
                console.error('Error fetching video details:', error);
                document.getElementById('videoDetails').innerHTML = '<p>Error fetching video details.</p>';
            }
        }

        // Fetch Channel Details from YouTube API
        async function fetchChannelDetails() {
            const channelName = document.getElementById('channelName').value;
            const apiKey = 'AIzaSyCW4fZwrNkPVEk9MKU1IhLykg9oXQnk920';
            const apiUrl = `https://www.googleapis.com/youtube/v3/channels?part=snippet,statistics&forUsername=${channelName}&key=${apiKey}`;

            try {
                const response = await fetch(apiUrl);
                const data = await response.json();

                if (data.items.length > 0) {
                    const channel = data.items[0];
                    const channelTitle = channel.snippet.title;
                    const channelDescription = channel.snippet.description;
                    const channelSubscribers = channel.statistics.subscriberCount;
                    const channelThumbnail = channel.snippet.thumbnails.high.url;

                    document.getElementById('channelDetails').innerHTML = `
                        <h3>${channelTitle}</h3>
                        <p><strong>Description:</strong> ${channelDescription}</p>
                        <p><strong>Subscribers:</strong> ${channelSubscribers}</p>
                        <img src="${channelThumbnail}" alt="Channel Thumbnail">
                    `;
                    fetchSimilarChannels(channelTitle); // Fetch similar channels based on channel title
                } else {
                    document.getElementById('channelDetails').innerHTML = '<p>No channel found.</p>';
                }
            } catch (error) {
                console.error('Error fetching channel details:', error);
                document.getElementById('channelDetails').innerHTML = '<p>Error fetching channel details.</p>';
            }
        }

        // Fetch Similar Channels based on channel title
        async function fetchSimilarChannels(channelTitle) {
            const apiKey = 'AIzaSyCW4fZwrNkPVEk9MKU1IhLykg9oXQnk920';
            const apiUrl = `https://www.googleapis.com/youtube/v3/search?part=snippet&type=channel&q=${channelTitle}&key=${apiKey}`;

            try {
                const response = await fetch(apiUrl);
                const data = await response.json();

                const similarChannels = data.items;
                let output = '<h3>Similar Channels</h3>';

                if (similarChannels.length > 0) {
                    similarChannels.forEach(channel => {
                        output += `
                            <p><a href="https://www.youtube.com/channel/${channel.snippet.channelId}" target="_blank">${channel.snippet.title}</a></p>
                        `;
                    });
                } else {
                    output += '<p>No similar channels found.</p>';
                }

                document.getElementById('similar-channels').innerHTML = output;
            } catch (error) {
                console.error('Error fetching similar channels:', error);
                document.getElementById('similar-channels').innerHTML = '<p>Error fetching similar channels.</p>';
            }
        }
    </script>
</body>
</html>
